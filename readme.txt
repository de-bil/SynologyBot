
*Настройка бота*

cd C:\synology-chat-bot\ (указать целевую папку где развернут бот,папку лучше назвать так же)
pip install -r requirements.txt (привязка к ini файлу)
pip install requests flask python-dotenv (для вебморды)
Открыть в фаерволе как в входящих так и исходящих порт 5000. 
Проверьте открыты ли порты в шлюзе и иных контроллирующих устройтсвах, так же порты может блокировать антивирус.

В самом боте Аватарка справа сверху -> Интеграция -> Боты (создать если нет). Исходящим URL является ip сервера где будет хостится бот и порт 5000 (например http://192.168.25.234:5000/webhook)). 
Далее копируем Входящий URL (QUICKCONNECT) без DDNS бот работать не будет (в личном кабинете Synology можно сделать DDNS даже с вашим не статичным открытым IP адресом от провайдера). 
В Входящий URL уже встроен токен бота, поэтому сам токен отдельно не нужен и вставляем его в .env файл в строку SYNOLOGY_INCOMING_URL. Тоже самое делаем в bot.py в разделе считывание конфигурации из .env.


*Описание файловой структуры*

.env файл конфигурации (там же и url бота с ddns адресом quickconnect и тд)
bot.py основной конструкт бота к нему уже подсасываются остальные файлы
knowledge_base.py база вопросов и категорий
reload_knowledge.py перегрузка knowledge_base.py на случай какой либо проблемы
requirements.txt файл настройки компонентов
bot_statistics.db база данных (создается сама если ее нет) тут находятся все данные о пользователях, нужны для вебморды,логов.
start_bot.bat батник для запуска бота так же там есть и логирование
synology_bot.log логи внутренней работы бота именно в самом приложении (создается сам если его нет)
templates папка где находятся все разделы вебморды

*Принцып работы*

Бот предлагает выбрать цифрой необходимую категорию, после так же цифрой выбрать интересующий вопрос и получить ответ.


Начальной командой может быть слово "привет" или "помощь", "help" или "hi", "hello".

